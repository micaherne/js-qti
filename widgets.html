<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
<script type="text/javascript" src="lib/js/jquery-1.7.1.min.js"></script>
<script type="text/javascript" src="lib/js/jquery-ui-1.8.16/js/jquery-ui-1.8.16.custom.min.js"></script>
<script type="text/javascript" src="lib/js/jquery-qti.js"></script>

<script type="text/javascript">

var responseDeclarationXml = '<responseDeclaration identifier="RESPONSE" cardinality="single" baseType="identifier">\
									<correctResponse>\
								<value>ChoiceA</value>\
								</correctResponse>\
							  </responseDeclaration>';

var responseDeclaration = {
	identifier: 'RESPONSE',
	cardinality: 'single',
	baseType: 'identifier'
};
responseDeclaration.qtiElement = $.parseXML(responseDeclarationXml).documentElement;

var samples = { 

		// choice.xml
	    choiceXml: '<choiceInteraction responseIdentifier="RESPONSE" shuffle="false" maxChoices="1">\
	            <prompt>What does it say?</prompt>\
	            <simpleChoice identifier="ChoiceA">You must stay with your luggage at all times.</simpleChoice>\
	            <simpleChoice identifier="ChoiceB">Do not let someone else look after your luggage.</simpleChoice>\
	            <simpleChoice identifier="ChoiceC">Remember your luggage when you leave.</simpleChoice>\
	        </choiceInteraction>',

	    // choice_multiple.xml
	    choiceMultipleXml: '<choiceInteraction responseIdentifier="RESPONSE" shuffle="true" maxChoices="0">\
			<prompt>Which of the following elements are used to form water?</prompt>\
			<simpleChoice identifier="H" fixed="false">Hydrogen</simpleChoice>\
			<simpleChoice identifier="He" fixed="false">Helium</simpleChoice>\
			<simpleChoice identifier="C" fixed="false">Carbon</simpleChoice>\
			<simpleChoice identifier="O" fixed="false">Oxygen</simpleChoice>\
			<simpleChoice identifier="N" fixed="false">Nitrogen</simpleChoice>\
			<simpleChoice identifier="Cl" fixed="false">Chlorine</simpleChoice>\
		</choiceInteraction>',
		
		// choice_fixed.xml
		choiceFixedXml: '<choiceInteraction responseIdentifier="RESPONSE" shuffle="true" maxChoices="1">\
            <prompt>What does it say?</prompt>\
            <simpleChoice identifier="ChoiceA">You must stay with your luggage at all times.</simpleChoice>\
            <simpleChoice identifier="ChoiceB">Do not let someone else look after your luggage.</simpleChoice>\
            <simpleChoice identifier="ChoiceC">Remember your luggage when you leave.</simpleChoice>\
            <simpleChoice identifier="ChoiceD" fixed="true">None of the above.</simpleChoice>\
        </choiceInteraction>',
        
        // choice_multiple_chocolade.xml
        choiceMultipleChocoladeXml: '<choiceInteraction responseIdentifier="MR01" shuffle="true" maxChoices="10">\
	            <prompt>How to make chocolate milk. Select the combination of steps that lead to a nice\
	                glass of hot and steamy chocolate milk.</prompt>\
	            <simpleChoice identifier="C01" fixed="false">Take a lighter</simpleChoice>\
	            <simpleChoice identifier="C02" fixed="false">Open the gas on the stove</simpleChoice>\
	            <simpleChoice identifier="C03" fixed="false">Light the gas</simpleChoice>\
	            <simpleChoice identifier="C04" fixed="false">Poor the milk in the pan</simpleChoice>\
	            <simpleChoice identifier="C05" fixed="false">Add 2 tea spoons of cocoa into the mug</simpleChoice>\
	            <simpleChoice identifier="C06" fixed="false">Add 2 tea spoons of sugar into the mug</simpleChoice>\
	            <simpleChoice identifier="C07" fixed="false">Add 2 spoons of water into the mug</simpleChoice>\
	            <simpleChoice identifier="C08" fixed="false">Stir the water, cocoa and sugar until the\
	                mixture is smooth</simpleChoice>\
	            <simpleChoice identifier="C09" fixed="false">Put the pan with milk on the stove</simpleChoice>\
	            <simpleChoice identifier="C10" fixed="false">Poor the boiling milk into the mug</simpleChoice>\
	            <simpleChoice identifier="C11" fixed="false">Put the mug with the mixture and milk into\
	                the microwave</simpleChoice>\
	            <simpleChoice identifier="C12" fixed="false">Add milk to the mug with the smooth mixture</simpleChoice>\
	            <simpleChoice identifier="C13" fixed="false">Add cold milk from the fridge into the mug\
	                with smooth mixture</simpleChoice>\
	            <simpleChoice identifier="C14" fixed="false">Set the microwave on 700 Watt and set the\
	                timer to 2 minutes</simpleChoice>\
            </choiceInteraction>'   

};

function createQtiElement(name) {
	return $.parseXML(samples[name]).documentElement;
}

$(document).ready(function(){
	var item = new QTI.AssessmentItem();
    var choiceQtiElement = createQtiElement('choiceMultipleChocoladeXml');
	var choice = $('<div/>').choiceInteraction( { qtiElement: choiceQtiElement, assessmentItem: item, responseDeclaration: {
		   cardinality: 'multiple',
		   baseType: 'identifier',
		   identifier: 'RESPONSE'
		} 
	});
	$('body').append(choice);
	choice.on('choiceinteractionclick', function(e, data){
		console.log(e);
		console.log(data);
	});

	
});

</script>
<style type="text/css">
    @import url(lib/jquery-ui-1.8.16/css/ui-lightness/jquery-ui-1.8.16.custom.css);
</style>
</head>
<body>

</body>
</html>