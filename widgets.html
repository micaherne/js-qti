<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
<script type="text/javascript" src="lib/js/jquery-1.7.1.min.js"></script>
<script type="text/javascript" src="lib/js/jquery-ui-1.8.16/js/jquery-ui-1.8.16.custom.min.js"></script>
<script type="text/javascript" src="lib/js/jquery-qti.js"></script>

<script type="text/javascript">

var samples = { 

		// choice.xml
	    choiceXml: '<choiceInteraction responseIdentifier="RESPONSE" shuffle="false" maxChoices="1">\
	            <prompt>What does it say?</prompt>\
	            <simpleChoice identifier="ChoiceA">You must stay with your luggage at all times.</simpleChoice>\
	            <simpleChoice identifier="ChoiceB">Do not let someone else look after your luggage.</simpleChoice>\
	            <simpleChoice identifier="ChoiceC">Remember your luggage when you leave.</simpleChoice>\
	        </choiceInteraction>',

	    // choice_multiple.xml
	    choiceMultipleXml: '<choiceInteraction responseIdentifier="RESPONSE" shuffle="true" maxChoices="0">\
			<prompt>Which of the following elements are used to form water?</prompt>\
			<simpleChoice identifier="H" fixed="false">Hydrogen</simpleChoice>\
			<simpleChoice identifier="He" fixed="false">Helium</simpleChoice>\
			<simpleChoice identifier="C" fixed="false">Carbon</simpleChoice>\
			<simpleChoice identifier="O" fixed="false">Oxygen</simpleChoice>\
			<simpleChoice identifier="N" fixed="false">Nitrogen</simpleChoice>\
			<simpleChoice identifier="Cl" fixed="false">Chlorine</simpleChoice>\
		</choiceInteraction>',
		
		// choice_fixed.xml
		choiceFixedXml: '<choiceInteraction responseIdentifier="RESPONSE" shuffle="true" maxChoices="1">\
            <prompt>What does it say?</prompt>\
            <simpleChoice identifier="ChoiceA">You must stay with your luggage at all times.</simpleChoice>\
            <simpleChoice identifier="ChoiceB">Do not let someone else look after your luggage.</simpleChoice>\
            <simpleChoice identifier="ChoiceC">Remember your luggage when you leave.</simpleChoice>\
            <simpleChoice identifier="ChoiceD" fixed="true">None of the above.</simpleChoice>\
        </choiceInteraction>'

};

function createQtiElement(name) {
	return $.parseXML(samples[name]).documentElement;
}

$(document).ready(function(){
	var item = new QTI.AssessmentItem();
    var choiceQtiElement = createQtiElement('choiceFixedXml');
	var choice = $('<div/>').choiceInteraction( { qtiElement: choiceQtiElement, assessmentItem: item, responseDeclaration: {
		   cardinality: 'single',
		   baseType: 'identifier',
		   identifier: 'RESPONSE'
		} 
	});
	$('body').append(choice);
	choice.on('choiceinteractionclick', function(e, data){
		console.log(e);
		console.log(data);
	});
});

</script>
<style type="text/css">
    @import url(lib/jquery-ui-1.8.16/css/ui-lightness/jquery-ui-1.8.16.custom.css);
</style>
</head>
<body>

</body>
</html>